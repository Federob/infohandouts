```{pyodide-python}
#| autorun: true
#| output: false
#| echo: false
import js

def _browser_input(prompt=""):
    result = js.prompt(str(prompt))
    if result is None:
        raise EOFError("Input annullato")
    return result

__builtins__.input = _browser_input
```

# Stringhe

## Cos'Ã¨ una stringa?

Una stringa Ã¨ semplicemente del **testo**. Qualsiasi cosa tu metta tra virgolette, per Python Ã¨ una stringa: un nome, una frase, anche "12345" (sÃ¬, anche i numeri tra virgolette diventano testo â€” attenzione a questa trappola!).

```{pyodide-python}
saluto = "Ciao mondo"
nome = 'Mario'

print(saluto)
print(nome)
```

Puoi usare virgolette doppie `"..."` o singole `'...'`, a Python non importa. Basta che apri e chiudi con lo stesso tipo!

Per testo su **piÃ¹ righe**, usa le triple virgolette `"""..."""` â€” praticamente il paragrafo del programmatore:

```{pyodide-python}
poesia = """Sempre caro mi fu quest'ermo colle,
e questa siepe, che da tanta parte
dell'ultimo orizzonte il guardo esclude."""

print(poesia)
```

---

## Lunghezza di una stringa

Vuoi sapere quanti caratteri ha una stringa? La funzione `len()` Ã¨ la tua amica:

```{pyodide-python}
parola = "Python"
print(len(parola))  # 6

frase = "Ciao mondo"
print(len(frase))   # 10 (lo spazio conta! SÃ¬, anche lui)
```

---

## Accesso ai singoli caratteri

Ogni carattere in una stringa ha una **posizione** (indice). E qui arriva la parte strana: si parte da **0**, non da 1! Lo so, Ã¨ assurdo, ma tutti i linguaggi di programmazione funzionano cosÃ¬. Ci farai l'abitudine.

```text
 P   y   t   h   o   n
[0] [1] [2] [3] [4] [5]
```

```{pyodide-python}
parola = "Python"

print(parola[0])   # Primo carattere: P
print(parola[1])   # Secondo carattere: y
print(parola[5])   # Ultimo carattere: n
print(parola[-1])  # Ultimo (dal fondo): n
print(parola[-2])  # Penultimo: o
```

::: {.callout-tip}
## Indici negativi = contare dal fondo
Gli indici negativi contano **dalla fine**: `-1` Ã¨ l'ultimo, `-2` il penultimo, ecc. Comodo quando non vuoi fare il conto di quanti caratteri ci sono!
:::


---

## Slicing (affettare le stringhe ðŸ•)

Puoi estrarre una **fetta** della stringa con la sintassi `[inizio:fine]`. Pensala come tagliare una pizza: scegli da dove a dove tagliare!

```{pyodide-python}
parola = "Python"

print(parola[0:3])   # Pyt (da 0 a 2, il 3 Ã¨ ESCLUSO!)
print(parola[2:5])   # tho
print(parola[:3])    # Pyt (dall'inizio fino a 2)
print(parola[3:])    # hon (da 3 fino alla fine)
print(parola[:])     # Python (tutta, tipo "dammi tutto")
```

::: {.callout-warning}
## Il secondo numero Ã¨ escluso!
`parola[0:3]` prende i caratteri alle posizioni 0, 1, 2 ma **NON** il 3. Ãˆ tipo quando dici "da pagina 1 a pagina 3" e in realtÃ  leggi solo le pagine 1 e 2. SÃ¬, Ã¨ confuso all'inizio, ma ha senso perchÃ© cosÃ¬ `len(parola[0:3])` Ã¨ esattamente 3!
:::


---

## Concatenazione e ripetizione

```{pyodide-python}
# Concatenazione: unire stringhe con +
nome = "Mario"
cognome = "Rossi"
nome_completo = nome + " " + cognome
print(nome_completo)

# Ripetizione: ripetere con * (tipo copia-incolla automatico!)
linea = "-" * 30
print(linea)
print("TITOLO")
print(linea)
```

::: {.callout-warning}
## Non puoi sommare stringhe e numeri!
Python va in panico se provi a fare `"Ho " + 16 + " anni"`. Devi convertire il numero con `str()`: `"Ho " + str(16) + " anni"`. Oppure usa le f-string (le vediamo tra poco, sono molto piÃ¹ comode!).
:::


---

## Metodi delle stringhe

Le stringhe hanno un sacco di **metodi** (funzioni integrate) che ti semplificano la vita. Ecco i piÃ¹ utili â€” sono tipo i superpoteri delle stringhe!

### Maiuscole e minuscole

```{pyodide-python}
testo = "ciao Mondo"

print(testo.upper())       # CIAO MONDO (urla tutto)
print(testo.lower())       # ciao mondo (sussurra tutto)
print(testo.capitalize())  # Ciao mondo (educato)
print(testo.title())       # Ciao Mondo (ogni parola maiuscola)
print(testo.swapcase())    # CIAO mONDO (il ribelle)
```

### Ricerca

```{pyodide-python}
frase = "Python Ã¨ un linguaggio fantastico"

# Contiene una parola?
print("Python" in frase)      # True
print("Java" in frase)        # False (e meno male! ðŸ˜„)

# Dove si trova?
print(frase.find("linguaggio"))   # 14 (indice dove inizia)
print(frase.find("Java"))         # -1 (non trovato)

# Quante volte compare?
print(frase.count("a"))           # 3
```

### Sostituzione

```{pyodide-python}
frase = "Mi piace la pizza"

nuova = frase.replace("pizza", "pasta")
print(nuova)  # Mi piace la pasta

# Puoi concatenare piÃ¹ sostituzioni
testo = "uno-due-tre"
risultato = testo.replace("-", " ")
print(risultato)  # uno due tre
```

### Rimozione spazi

```{pyodide-python}
testo = "   ciao mondo   "

print(repr(testo.strip()))    # 'ciao mondo' (via gli spazi da entrambi i lati)
print(repr(testo.lstrip()))   # 'ciao mondo   ' (solo a sinistra)
print(repr(testo.rstrip()))   # '   ciao mondo' (solo a destra)
```

### Split e Join

Questi due sono **potentissimi**: uno divide, l'altro unisce. Tipo Avengers della manipolazione testo!

```{pyodide-python}
# Split: spezza una stringa in una lista
frase = "uno,due,tre,quattro"
parti = frase.split(",")
print(parti)  # ['uno', 'due', 'tre', 'quattro']

# Join: riunisce una lista in una stringa
parole = ["Ciao", "a", "tutti"]
frase = " ".join(parole)
print(frase)  # Ciao a tutti
```

---

## F-string (il modo furbo di formattare)

Le **f-string** sono il modo piÃ¹ comodo per mescolare testo e variabili. Metti una `f` prima delle virgolette e le variabili vanno tra `{parentesi graffe}`. Ãˆ tipo auto-completamento per le stringhe!

```{pyodide-python}
nome = "Mario"
eta = 16
media = 7.856

# F-string base
print(f"Mi chiamo {nome} e ho {eta} anni")

# Puoi fare calcoli dentro le graffe!
print(f"L'anno prossimo avrÃ² {eta + 1} anni")

# Formattare i decimali (2 cifre dopo la virgola)
print(f"La mia media Ã¨ {media:.2f}")
print(f"La mia media Ã¨ {media:.1f}")
```

Una volta che le scopri, non torni piÃ¹ indietro. Addio concatenazione con `+` e `str()`! ðŸŽ‰

### Formattazione avanzata

```{pyodide-python}
# Allineamento (per fare tabelle carine)
for i in range(1, 6):
    print(f"Riga {i:>3} | {'*' * i:<10} |")

# Riempire con zeri
numero = 42
print(f"Codice: {numero:05d}")  # 00042
```

---

## Caratteri speciali

Alcuni caratteri si scrivono con il **backslash** `\`. Sono tipo le emoji della programmazione old school:

| Sequenza | Significato        |
|----------|--------------------|
| `\n`     | A capo             |
| `\t`     | Tabulazione        |
| `\\`     | Backslash          |
| `\"`     | Virgolette doppie  |
| `\'`     | Virgolette singole |

```{pyodide-python}
print("Prima riga\nSeconda riga")
print("Colonna1\tColonna2\tColonna3")
print("Lui disse: \"Ciao!\"")
```

---

## Le stringhe sono immutabili

Ecco una cosa che spiazza tutti all'inizio: in Python le stringhe **non si possono modificare** dopo averle create. Se vuoi "cambiare" una stringa, devi crearne una nuova. Ãˆ tipo la politica del reso: non puoi modificare il prodotto, devi prenderne uno nuovo!

```{pyodide-python}
parola = "Ciao"

# parola[0] = "M"  # ERRORE! Non si puÃ²!

# Per "modificare", crea una nuova stringa:
nuova_parola = "M" + parola[1:]
print(nuova_parola)  # Miao ðŸ±
```

---

## Esercizi

### Esercizio 1: Analisi stringa

Chiedi una parola all'utente e stampa: la lunghezza, il primo e l'ultimo carattere, la parola in maiuscolo.

```{pyodide-python}
parola = input("Scrivi una parola: ")

# Completa qui sotto

```

### Esercizio 2: Inverti stringa

Stampa una parola al contrario. Suggerimento: usa lo slicing con passo negativo `[::-1]` (sÃ¬, Ã¨ una figata!).

```{pyodide-python}
parola = input("Scrivi una parola: ")

# Inverti la parola e stampala

```

### Esercizio 3: Conta vocali

Conta quante vocali ci sono in una frase. Hint: puoi usare l'operatore `in` per controllare se un carattere Ã¨ una vocale!

```{pyodide-python}
frase = input("Scrivi una frase: ").lower()
vocali = 0

# Conta le vocali (a, e, i, o, u) nella frase

```
